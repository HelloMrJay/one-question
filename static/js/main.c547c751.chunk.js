(this["webpackJsonpone-question"]=this["webpackJsonpone-question"]||[]).push([[0],{175:function(e,t,a){e.exports=a(348)},180:function(e,t,a){},181:function(e,t,a){},206:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},347:function(e,t,a){e.exports=a.p+"static/media/Logo.18fb79cd.png"},348:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(2),s=a.n(c),o=(a(180),a(65)),i=a(350),u=a(351),m=a(359),p=a(360),f=(a(181),a(358)),d=a(355),E=a(8),h=function(){var e=Object(E.f)();return l.a.createElement(d.a,{theme:"dark",mode:"inline",defaultOpenKeys:["user"],defaultSelectedKeys:["list"]},l.a.createElement(d.a.SubMenu,{key:"user",title:l.a.createElement("span",null,l.a.createElement(f.a,null),l.a.createElement("span",null,"\u7528\u6237\u4fe1\u606f"))},l.a.createElement(d.a.Item,{key:"list",onClick:function(){return e.push("/user/list")}},"\u7528\u6237\u5217\u8868"),l.a.createElement(d.a.Item,{key:"2"},"\u53d1\u5e03\u7edf\u8ba1")))},g=i.a.Header,b=i.a.Sider,v=i.a.Content,O=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)({avatar:"",name:""}),f=Object(o.a)(s,2),d=f[0],E=f[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("USER_INFO");"string"===typeof e&&E(JSON.parse(e))}),[]),l.a.createElement(i.a,null,l.a.createElement(b,{trigger:null,collapsible:!0,collapsed:n},l.a.createElement("div",{className:"global-sider-menu-logo"},l.a.createElement("span",{className:"project-title"},"One Question")),l.a.createElement(h,null)),l.a.createElement(i.a,null,l.a.createElement(g,{className:"site-layout-background-header",style:{padding:0}},l.a.createElement(n?m.a:p.a,{className:"trigger",onClick:function(){c(!n)}}),l.a.createElement("span",null,l.a.createElement("span",{className:"user-info-name",style:{paddingRight:"15px"}},d.name),l.a.createElement(u.a,{size:30,src:d.avatar}))),l.a.createElement(v,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280}},e.children)))},y=a(82),w=a(83),j=a(95),N=a(93),k=a(356),S=a(31),x=(a(206),function(e){return Object(r.useEffect)((function(){document.title=e.title}),[e.title]),l.a.createElement("div",{className:"page-title-container"},l.a.createElement("span",{className:"page-title-content"},e.title))}),I=a(354),C=function(e){return function(t){Object(j.a)(n,t);var a=Object(N.a)(n);function n(){return Object(y.a)(this,n),a.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){return l.a.createElement(I.a,Object.assign({},this.props,{cancelText:this.props.cancelText||"\u53d6 \u6d88",okText:this.props.okText||"\u786e \u5b9a"}),l.a.createElement(e,this.props))}}]),n}(l.a.Component)},_=a(353);!function(e){e.INPUT="input",e.PASSWORD="password"}(n||(n={}));var q,P=function(e){return l.a.createElement("div",{className:"form-container"},l.a.createElement(_.a,Object.assign({name:"basic-form"},e),e.fields.map((function(e){return l.a.createElement(_.a.Item,e,function(e,t){switch(e){case n.INPUT:return l.a.createElement(k.a,{style:{width:"188px"},placeholder:t});case n.PASSWORD:return l.a.createElement(k.a.Password,{style:{width:"188px"},placeholder:t});default:return l.a.createElement(k.a,{style:{width:"188px"},placeholder:t})}}(e.type,e.placeholder))}))))},R=(a(327),[{label:"\u7528\u6237\u540d",name:"username",type:"input",key:"username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",labelCol:{span:6},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]},{label:"\u5bc6\u7801",name:"password",type:"password",key:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",labelCol:{span:6},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},{label:"\u90ae\u7bb1",name:"email",type:"input",key:"email",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",labelCol:{span:6},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]}]),T=C(q=function(e){Object(j.a)(a,e);var t=Object(N.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return l.a.createElement(P,{fields:R})}}]),a}(l.a.Component))||q,U=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];return l.a.createElement("div",{className:"user-list-container"},l.a.createElement("div",{className:"user-list__header"},l.a.createElement(x,{title:"\u7528\u6237\u5217\u8868"}),l.a.createElement("div",{className:"filter-wrapper"},l.a.createElement("div",{className:"w188"},l.a.createElement(k.a,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"})),l.a.createElement(T,{onCancel:function(){return n(!1)},visible:a,title:"\u65b0\u589e\u7528\u6237",onOk:function(){return n(!1)}}),l.a.createElement(S.a,{type:"primary",onClick:function(){n(!0)}},"\u65b0\u589e\u7528\u6237"))))},F=function(){var e=Object(E.f)();return Object(r.useEffect)((function(){!localStorage.getItem("USER_INFO")&&e.push("/login"),localStorage.getItem("USER_INFO")&&e.push("/user/list")}),[]),l.a.createElement("div",{className:"home-container"},l.a.createElement(O,null,l.a.createElement(E.a,{path:"/user/list",component:U})))},J=a(55),W=a.n(J),A=a(91),B=(a(328),a(352)),D=a(172),H=a.n(D),K=a(357),z=H.a.create({timeout:6e4});z.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),z.interceptors.response.use((function(e){return e.data}),(function(e){return K.a.error(e.response.data),Promise.reject(e)}));var L=z,M=function(){var e=Object(A.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post("/api/user/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=a(361),$={wrapperCol:{offset:8,span:16}},G={labelCol:{span:8},wrapperCol:{span:16}},V=function(){var e=Object(E.f)(),t=function(){var t=Object(A.a)(W.a.mark((function t(a){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(a);case 2:(n=t.sent)&&(localStorage.setItem("USER_INFO",JSON.stringify(n)),e.push("/home")),console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement("div",{className:"login-container"},l.a.createElement("div",{className:"login-wrapper"},l.a.createElement("div",{className:"login-form__header"},l.a.createElement(B.a,{span:3}),l.a.createElement("img",{src:a(347),width:"100%",height:"80px",alt:""})),l.a.createElement("div",{className:"login-form__content"},l.a.createElement(_.a,Object.assign({},G,{name:"basic",onFinish:function(e){return t(e)}}),l.a.createElement(_.a.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]},l.a.createElement(k.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",autoComplete:"off",prefix:l.a.createElement(f.a,null)})),l.a.createElement(_.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]},l.a.createElement(k.a.Password,{prefix:l.a.createElement(Q.a,null),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),l.a.createElement(_.a.Item,$,l.a.createElement(S.a,{type:"primary",htmlType:"submit"},"\u767b \u5f55"))))))},X=a(60);var Y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(X.a,null,l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/login",component:V}),l.a.createElement(E.a,{path:"/",component:F}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.c547c751.chunk.js.map